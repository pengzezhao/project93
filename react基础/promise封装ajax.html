<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    function sendAjax(url) {
        return new Promise(function (res, rej) {
            let xhr=new XMLHttpRequest()
            xhr.responseType='json'
            xhr.open('GET',url)
            xhr.send()
            xhr.onreadystatechange=function () {
                if (xhr.readyState===4){
                    if (xhr.status>=200 && xhr.status<300){
                        res(xhr.response)
                    }else {
                        rej(xhr.status)
                    }
                }
            }
        })
    }
    let msg=sendAjax("https://api.apiopen.top/getJoke")
    console.log(msg)
    msg.then(function (val) {
        console.log(val)
    }).catch(function (rea) {
        console.log(rea)
    })

</script>

</body>
</html>